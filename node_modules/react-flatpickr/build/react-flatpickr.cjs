"use strict";const R=require("react/jsx-runtime"),o=require("react"),D=require("flatpickr"),v=["onCreate","onDestroy"],k=["onChange","onOpen","onClose","onMonthChange","onYearChange","onReady","onValueUpdate","onDayCreate"],E=(e,c)=>(k.forEach(r=>{const i=c[r],n=e[r];if(i){n&&!Array.isArray(n)?e[r]=[e[r]]:e[r]||(e[r]=[]);const h=Array.isArray(i)?i:[i];e[r].length===0?e[r]=h:e[r].push(...h)}}),k.forEach(r=>{delete c[r]}),v.forEach(r=>{delete c[r]}),e),S=e=>{const c=o.useMemo(()=>({...e}),[e]),{defaultValue:r,options:i={},value:n,children:h,render:x}=c,s=o.useMemo(()=>E(i,c),[i,c]),f=o.useRef(null),t=o.useRef(void 0);o.useImperativeHandle(e.ref,()=>({get flatpickr(){return t.current}}),[]),o.useEffect(()=>{var y;const g=()=>{s.onClose=s.onClose||(()=>{var C;(C=f.current)!=null&&C.blur&&f.current.blur()}),t.current=((D==null?void 0:D.default)||D)(f.current,s),t.current&&n!==void 0&&t.current.setDate(n,!1),e.onCreate&&e.onCreate(t.current)},u=()=>{e.onDestroy&&e.onDestroy(t.current),t.current&&t.current.destroy(),t.current=void 0};if(g(),t.current){const C=Object.getOwnPropertyNames(s);for(let b=C.length-1;b>=0;b--){const m=C[b];let a=s[m];(a==null?void 0:a.toString())!==((y=t.current.config[m])==null?void 0:y.toString())&&(k.includes(m)&&!Array.isArray(a)&&(a=[a]),t.current.set(m,a))}n!==void 0&&n!==t.current.input.value&&t.current.setDate(n,!1)}return()=>{u()}},[s,i,c,n,e]);const A=o.useCallback(g=>{f.current=g},[]);if(x)return x({...c,defaultValue:r,value:n},A);const l=o.useCallback(g=>{var u,y;e&&e.onChange&&(Array.isArray(e==null?void 0:e.onChange)?(u=e==null?void 0:e.onChange)==null||u.forEach(()=>[new Date(g.target.value)],(n==null?void 0:n.toString())||""):typeof e.onChange=="function"&&((y=e==null?void 0:e.onChange)==null||y.call(e,[new Date(g.target.value)],(n==null?void 0:n.toString())||"",t.current)))},[e,n]);return i.wrap?R.jsx("div",{className:"flatpickr",ref:A,children:h}):R.jsx("input",{onChange:l,...c,value:n==null?void 0:n.toString(),defaultValue:r,ref:A})};module.exports=S;
//# sourceMappingURL=react-flatpickr.cjs.map
